# üöÄ –ü–ª–∞–Ω –¥–µ–ø–ª–æ—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- **–î–æ–º–µ–Ω:** –£ –∑–∞–∫–∞–∑—á–∏–∫–∞ (Reg.ru)
- **DNS:** –°–µ–π—á–∞—Å —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ WordPress.com
- **–ü—Ä–æ–µ–∫—Ç:** Next.js (frontend + admin) + Node.js API

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω (–í–∞—Ä–∏–∞–Ω—Ç A - –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–¥–¥–æ–º–µ–Ω)

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–º–µ–Ω–∞ (–ó–∞–∫–∞–∑—á–∏–∫)
1. –ó–∞–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º –Ω–∞ Reg.ru
2. –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–¥–æ–º–µ–Ω: `new.aaled.ru` (–∏–ª–∏ `test.aaled.ru`)
3. –°–æ–∑–¥–∞—Ç—å A-–∑–∞–ø–∏—Å—å –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–∞, —É–∫–∞–∑—ã–≤–∞—é—â—É—é –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–∏–º–µ—Ä DNS –∑–∞–ø–∏—Å–µ–π:**
```
–¢–∏–ø    –ò–º—è      –ó–Ω–∞—á–µ–Ω–∏–µ           TTL
A      new      123.45.67.89       3600
```

---

### –≠—Ç–∞–ø 2: –í—ã–±–æ—Ä —Ö–æ—Å—Ç–∏–Ω–≥–∞ (–í—ã)

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–æ—Å—Å–∏–π—Å–∫–∏–π VPS (–ø—Ä–æ—â–µ –¥–ª—è –†–§ –∫–ª–∏–µ–Ω—Ç–æ–≤)
- **Timeweb VPS** - –æ—Ç 300‚ÇΩ/–º–µ—Å
  - 1 vCPU, 1GB RAM, 10GB SSD
  - https://timeweb.com/ru/services/vps/
  
- **Beget VPS** - –æ—Ç 350‚ÇΩ/–º–µ—Å
  - 1 vCPU, 1GB RAM, 10GB SSD
  - https://beget.com/ru/vps

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞—Ä—É–±–µ–∂–Ω—ã–π VPS (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
- **DigitalOcean** - $6/–º–µ—Å (~600‚ÇΩ)
- **Hetzner** - ‚Ç¨4.5/–º–µ—Å (~450‚ÇΩ)
- **Vultr** - $6/–º–µ—Å (~600‚ÇΩ)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å Timeweb –∏–ª–∏ Beget (–ø—Ä–æ—â–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º)

---

### –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–í—ã)

#### 3.1 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@–≤–∞—à_ip_–∞–¥—Ä–µ—Å
```

#### 3.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20.x
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
npm install -g pm2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
apt install -y nginx

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git
apt install -y git
```

#### 3.3 –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /var/www
git clone –≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π aled-project
cd aled-project
```

#### 3.4 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
npm install

# –°–±–æ—Ä–∫–∞ frontend
cd apps/frontend
npm run build

# –°–±–æ—Ä–∫–∞ admin
cd ../admin
npm run build

# –í–æ–∑–≤—Ä–∞—Ç –≤ –∫–æ—Ä–µ–Ω—å
cd ../..
```

---

### –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PM2 (–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

#### 4.1 –°–æ–∑–¥–∞–Ω–∏–µ ecosystem.config.js
```bash
nano ecosystem.config.js
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```javascript
module.exports = {
  apps: [
    {
      name: 'aled-api',
      script: 'demo-api/simple-server.js',
      env: {
        NODE_ENV: 'production',
        PORT: 4000
      }
    },
    {
      name: 'aled-frontend',
      script: 'node_modules/.bin/next',
      args: 'start -p 3000',
      cwd: './apps/frontend',
      env: {
        NODE_ENV: 'production',
        PORT: 3000
      }
    },
    {
      name: 'aled-admin',
      script: 'node_modules/.bin/next',
      args: 'start -p 3001',
      cwd: './apps/admin',
      env: {
        NODE_ENV: 'production',
        PORT: 3001
      }
    }
  ]
};
```

#### 4.2 –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```bash
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

---

### –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)

#### 5.1 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è frontend
```bash
nano /etc/nginx/sites-available/aled-frontend
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```nginx
server {
    listen 80;
    server_name new.aaled.ru;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### 5.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è admin
```bash
nano /etc/nginx/sites-available/aled-admin
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```nginx
server {
    listen 80;
    server_name admin.new.aaled.ru;

    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

#### 5.3 –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
```bash
ln -s /etc/nginx/sites-available/aled-frontend /etc/nginx/sites-enabled/
ln -s /etc/nginx/sites-available/aled-admin /etc/nginx/sites-enabled/
nginx -t
systemctl restart nginx
```

---

### –≠—Ç–∞–ø 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL (HTTPS)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
certbot --nginx -d new.aaled.ru -d admin.new.aaled.ru

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
certbot renew --dry-run
```

---

### –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://new.aaled.ru` - –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∏—Ç—Ä–∏–Ω–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ `http://admin.new.aaled.ru` - –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∞–¥–º–∏–Ω–∫–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏:
   - ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
   - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ
   - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
   - ‚úÖ –ë–∞–Ω–Ω–µ—Ä—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π

---

### –≠—Ç–∞–ø 8: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω (–ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

–ö–æ–≥–¥–∞ –∑–∞–∫–∞–∑—á–∏–∫ –æ–¥–æ–±—Ä–∏—Ç —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ä—Å–∏—é:

1. –ó–∞–∫–∞–∑—á–∏–∫ –º–µ–Ω—è–µ—Ç DNS –∑–∞–ø–∏—Å–∏ –≤ Reg.ru:
   ```
   –¢–∏–ø    –ò–º—è      –ó–Ω–∞—á–µ–Ω–∏–µ           TTL
   A      @        123.45.67.89       3600
   A      admin    123.45.67.89       3600
   ```

2. –í—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:
   ```nginx
   server_name aaled.ru www.aaled.ru;  # –≤–º–µ—Å—Ç–æ new.aaled.ru
   server_name admin.aaled.ru;          # –≤–º–µ—Å—Ç–æ admin.new.aaled.ru
   ```

3. –ü–æ–ª—É—á–∞–µ—Ç–µ –Ω–æ–≤—ã–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
   ```bash
   certbot --nginx -d aaled.ru -d www.aaled.ru -d admin.aaled.ru
   ```

---

## üí∞ –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **VPS:** 300-600‚ÇΩ/–º–µ—Å
- **–î–æ–º–µ–Ω:** –£–∂–µ –µ—Å—Ç—å —É –∑–∞–∫–∞–∑—á–∏–∫–∞
- **SSL:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Let's Encrypt)

**–ò—Ç–æ–≥–æ:** ~300-600‚ÇΩ/–º–µ—Å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **VPS:** 500-1000‚ÇΩ/–º–µ—Å (2GB RAM –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
- **–î–æ–º–µ–Ω:** –£–∂–µ –µ—Å—Ç—å
- **SSL:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

**–ò—Ç–æ–≥–æ:** ~500-1000‚ÇΩ/–º–µ—Å

---

## üìù –ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å –∑–∞–∫–∞–∑—á–∏–∫—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–¥–¥–æ–º–µ–Ω (–†–ï–ö–û–ú–ï–ù–î–£–Æ)
```
"–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–∞–π—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–∑–¥–∞—Ç—å 
—Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–¥–¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, new.aaled.ru). –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç:

‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ —Ä–∏—Å–∫–∞
‚úÖ –°—Ä–∞–≤–Ω–∏—Ç—å —Å—Ç–∞—Ä—É—é –∏ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
‚úÖ –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è

–ú–Ω–µ –Ω—É–∂–Ω–æ:
1. –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–¥–æ–º–µ–Ω new.aaled.ru –≤ –ø–∞–Ω–µ–ª–∏ Reg.ru
2. –£–∫–∞–∑–∞—Ç—å A-–∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ (—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—é IP –ø–æ—Å–ª–µ –∞—Ä–µ–Ω–¥—ã)

–°—Ç–æ–∏–º–æ—Å—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥–∞: ~500‚ÇΩ/–º–µ—Å"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –¥–æ–º–µ–Ω
```
"–ú–æ–∂–µ–º –∫—É–ø–∏—Ç—å –¥–µ—à–µ–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, aaled-test.ru) 
–∑–∞ ~300‚ÇΩ/–≥–æ–¥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–µ–º –≤—Å–µ 
–Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω aaled.ru.

–°—Ç–æ–∏–º–æ—Å—Ç—å:
- –¢–µ—Å—Ç–æ–≤—ã–π –¥–æ–º–µ–Ω: ~300‚ÇΩ/–≥–æ–¥
- –•–æ—Å—Ç–∏–Ω–≥: ~500‚ÇΩ/–º–µ—Å"
```

---

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall (ufw)
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS (SSL)

### –ë—ç–∫–∞–ø—ã:
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∫–æ–ø–∏–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ/–æ–±–ª–∞–∫–µ

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ PM2 –¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pm2 monit` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–µ–π—á–∞—Å:** –û–±—Å—É–¥–∏—Ç–µ —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º –≤–∞—Ä–∏–∞–Ω—Ç —Å –ø–æ–¥–¥–æ–º–µ–Ω–æ–º
2. **–ü–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è:** –ê—Ä–µ–Ω–¥—É–π—Ç–µ VPS
3. **–ü–æ–ª—É—á–∏—Ç–µ IP:** –ü–µ—Ä–µ–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑—á–∏–∫—É –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
4. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:** –°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–º—É –ø–ª–∞–Ω—É
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
6. **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω:** –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è

---

## ‚ùì –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ - —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ! üöÄ

